<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nidas: nidas::dynld::BlockStats Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nidas
   &#160;<span id="projectnumber">v1.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d7/d2e/namespacenidas.html">nidas</a></li><li class="navelem"><a class="el" href="../../db/d6e/namespacenidas_1_1dynld.html">dynld</a></li><li class="navelem"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html">BlockStats</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../da/d6b/structnidas_1_1dynld_1_1BlockStats-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">nidas::dynld::BlockStats Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Keep track of statistics for a contiguous block of good or bad samples in a stream.  
 <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/dc0/SampleInputStream_8h_source.html">SampleInputStream.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0a1aff9052346b2b2b9eb5881be79a4e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d5/d09/namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">nidas::core::dsm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">dsm_time_t</a></td></tr>
<tr class="separator:a0a1aff9052346b2b2b9eb5881be79a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a036beaeefb5137d6bee82a849cbcd660"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a036beaeefb5137d6bee82a849cbcd660">BlockStats</a> (bool goodblock=true, size_t startblock=0)</td></tr>
<tr class="memdesc:a036beaeefb5137d6bee82a849cbcd660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a block as good or bad and give it an offset.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a036beaeefb5137d6bee82a849cbcd660">More...</a><br /></td></tr>
<tr class="separator:a036beaeefb5137d6bee82a849cbcd660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871d7a62782ccfa66a16775fdf48a428"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample</a> (<a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html">nidas::core::Sample</a> *samp, long long offset)</td></tr>
<tr class="memdesc:a871d7a62782ccfa66a16775fdf48a428"><td class="mdescLeft">&#160;</td><td class="mdescRight">On a good sample, reset this block to a good block if not already, and update the last good sample and the size of the block.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">More...</a><br /></td></tr>
<tr class="separator:a871d7a62782ccfa66a16775fdf48a428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c59c6a56890fb40a3d438c0f714523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a71c59c6a56890fb40a3d438c0f714523">addBadSample</a> (long long offset, unsigned int nbadbytes)</td></tr>
<tr class="memdesc:a71c59c6a56890fb40a3d438c0f714523"><td class="mdescLeft">&#160;</td><td class="mdescRight">An alternative to calling <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc" title="Start a bad block.">startBadBlock()</a>/endBadBlock(), it adds nbadbytes to a bad block, resetting the block from good to bad if necessary.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a71c59c6a56890fb40a3d438c0f714523">More...</a><br /></td></tr>
<tr class="separator:a71c59c6a56890fb40a3d438c0f714523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdca7a2be798043936391e9173d59dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock</a> (long long offset)</td></tr>
<tr class="memdesc:aefdca7a2be798043936391e9173d59dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a bad block.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">More...</a><br /></td></tr>
<tr class="separator:aefdca7a2be798043936391e9173d59dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b105d7b529fe9b3905a2bb0b1c6fe32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32">endBadBlock</a> (<a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html">nidas::core::Sample</a> *samp, long long offset)</td></tr>
<tr class="memdesc:a2b105d7b529fe9b3905a2bb0b1c6fe32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the end of a bad block by assigning the end_time and setting nbytes according to the current offset.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32">More...</a><br /></td></tr>
<tr class="separator:a2b105d7b529fe9b3905a2bb0b1c6fe32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a5dde9520627ec4a65eb9a4184bb226"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4a5dde9520627ec4a65eb9a4184bb226">blockEnd</a> () const</td></tr>
<tr class="separator:a4a5dde9520627ec4a65eb9a4184bb226"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab8e5e18326295b3cc3d2b1453ad254ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">dsm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ab8e5e18326295b3cc3d2b1453ad254ae">start_time</a></td></tr>
<tr class="memdesc:ab8e5e18326295b3cc3d2b1453ad254ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sample times bounding this block.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ab8e5e18326295b3cc3d2b1453ad254ae">More...</a><br /></td></tr>
<tr class="separator:ab8e5e18326295b3cc3d2b1453ad254ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af374c4a0ab6769f24927a5c2a33dc2e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">dsm_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#af374c4a0ab6769f24927a5c2a33dc2e9">end_time</a></td></tr>
<tr class="separator:af374c4a0ab6769f24927a5c2a33dc2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efeb3cf81e4b609b9d6cd5e495b6e04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4efeb3cf81e4b609b9d6cd5e495b6e04">good</a></td></tr>
<tr class="memdesc:a4efeb3cf81e4b609b9d6cd5e495b6e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if this is a block of good samples.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4efeb3cf81e4b609b9d6cd5e495b6e04">More...</a><br /></td></tr>
<tr class="separator:a4efeb3cf81e4b609b9d6cd5e495b6e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac730e871a8aa9355cdc1a71c0eaa48dd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ac730e871a8aa9355cdc1a71c0eaa48dd">nsamples</a></td></tr>
<tr class="memdesc:ac730e871a8aa9355cdc1a71c0eaa48dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of good samples in a row.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ac730e871a8aa9355cdc1a71c0eaa48dd">More...</a><br /></td></tr>
<tr class="separator:ac730e871a8aa9355cdc1a71c0eaa48dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f37bc33d7556f2f0919b22f31f029a6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1f37bc33d7556f2f0919b22f31f029a6">block_start</a></td></tr>
<tr class="separator:a1f37bc33d7556f2f0919b22f31f029a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee81a672e99fcaff8bab2d412081f47"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a></td></tr>
<tr class="memdesc:a1ee81a672e99fcaff8bab2d412081f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size in bytes of this block.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">More...</a><br /></td></tr>
<tr class="separator:a1ee81a672e99fcaff8bab2d412081f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc5e1dabb9f56fcf15af2549948805a7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#acc5e1dabb9f56fcf15af2549948805a7">last_good_sample_size</a></td></tr>
<tr class="memdesc:acc5e1dabb9f56fcf15af2549948805a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the last good sample in a good sample block.  <a href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#acc5e1dabb9f56fcf15af2549948805a7">More...</a><br /></td></tr>
<tr class="separator:acc5e1dabb9f56fcf15af2549948805a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Keep track of statistics for a contiguous block of good or bad samples in a stream. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a0a1aff9052346b2b2b9eb5881be79a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1aff9052346b2b2b9eb5881be79a4e">&#9670;&nbsp;</a></span>dsm_time_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d5/d09/namespacenidas_1_1core.html#ae28d0fe0d8b1fba477a22c86f6ad0b88">nidas::core::dsm_time_t</a> <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">nidas::dynld::BlockStats::dsm_time_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a036beaeefb5137d6bee82a849cbcd660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a036beaeefb5137d6bee82a849cbcd660">&#9670;&nbsp;</a></span>BlockStats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BlockStats::BlockStats </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>goodblock</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>startblock</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a block as good or bad and give it an offset. </p>
<p>Blocks default to being good but empty. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a71c59c6a56890fb40a3d438c0f714523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c59c6a56890fb40a3d438c0f714523">&#9670;&nbsp;</a></span>addBadSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlockStats::addBadSample </td>
          <td>(</td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nbadbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An alternative to calling <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc" title="Start a bad block.">startBadBlock()</a>/endBadBlock(), it adds nbadbytes to a bad block, resetting the block from good to bad if necessary. </p>
<p>It is analogous to the <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428" title="On a good sample, reset this block to a good block if not already, and update the last good sample an...">addGoodSample()</a> method. Use <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc" title="Start a bad block.">startBadBlock()</a> and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32" title="Mark the end of a bad block by assigning the end_time and setting nbytes according to the current off...">endBadBlock()</a> to avoid calling <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428" title="On a good sample, reset this block to a good block if not already, and update the last good sample an...">addGoodSample()</a> on every single bad byte. When a bad block is started from a good block, it copies the end_time from the good block into the start_time of the new bad block. </p>

<p class="reference">References <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4efeb3cf81e4b609b9d6cd5e495b6e04">good</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock()</a>.</p>

</div>
</div>
<a id="a871d7a62782ccfa66a16775fdf48a428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a871d7a62782ccfa66a16775fdf48a428">&#9670;&nbsp;</a></span>addGoodSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BlockStats::addGoodSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html">nidas::core::Sample</a> *&#160;</td>
          <td class="paramname"><em>samp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>On a good sample, reset this block to a good block if not already, and update the last good sample and the size of the block. </p>
<p>Call this method on each good sample so that when a bad header appears, all the stats in this block are already correct. Return true if this is the start of a new good block. </p>

<p class="reference">References <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a036beaeefb5137d6bee82a849cbcd660">BlockStats()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#af374c4a0ab6769f24927a5c2a33dc2e9">end_time</a>, <a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html#ae1109760af7bb6260f9c6eda4d15eeda">nidas::core::Sample::getDataByteLength()</a>, <a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html#ac14054d499487627d0ccc46450495efd">nidas::core::Sample::getHeaderLength()</a>, <a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html#a96d0090e6e20943e9311d3e6f424dce2">nidas::core::Sample::getTimeTag()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4efeb3cf81e4b609b9d6cd5e495b6e04">good</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#acc5e1dabb9f56fcf15af2549948805a7">last_good_sample_size</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ac730e871a8aa9355cdc1a71c0eaa48dd">nsamples</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ab8e5e18326295b3cc3d2b1453ad254ae">start_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>.</p>

</div>
</div>
<a id="a4a5dde9520627ec4a65eb9a4184bb226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a5dde9520627ec4a65eb9a4184bb226">&#9670;&nbsp;</a></span>blockEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::dynld::BlockStats::blockEnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1f37bc33d7556f2f0919b22f31f029a6">block_start</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="a2b105d7b529fe9b3905a2bb0b1c6fe32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b105d7b529fe9b3905a2bb0b1c6fe32">&#9670;&nbsp;</a></span>endBadBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlockStats::endBadBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html">nidas::core::Sample</a> *&#160;</td>
          <td class="paramname"><em>samp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the end of a bad block by assigning the end_time and setting nbytes according to the current offset. </p>
<p>If the block ends without a good sample, then pass <code>samp</code> as NULL, in which case the end_time will remain at the default of LONG_LONG_MAX. </p>

<p class="reference">References <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1f37bc33d7556f2f0919b22f31f029a6">block_start</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#af374c4a0ab6769f24927a5c2a33dc2e9">end_time</a>, <a class="el" href="../../d9/d7f/classnidas_1_1core_1_1Sample.html#a96d0090e6e20943e9311d3e6f424dce2">nidas::core::Sample::getTimeTag()</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>.</p>

</div>
</div>
<a id="aefdca7a2be798043936391e9173d59dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefdca7a2be798043936391e9173d59dc">&#9670;&nbsp;</a></span>startBadBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BlockStats::startBadBlock </td>
          <td>(</td>
          <td class="paramtype">long long&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a bad block. </p>
<p>The size (nbytes) will not be correct until <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32" title="Mark the end of a bad block by assigning the end_time and setting nbytes according to the current off...">endBadBlock()</a> is called. </p>

<p class="reference">References <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a036beaeefb5137d6bee82a849cbcd660">BlockStats()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#af374c4a0ab6769f24927a5c2a33dc2e9">end_time</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a1ee81a672e99fcaff8bab2d412081f47">nbytes</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#ab8e5e18326295b3cc3d2b1453ad254ae">start_time</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a71c59c6a56890fb40a3d438c0f714523">addBadSample()</a>, and <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1f37bc33d7556f2f0919b22f31f029a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f37bc33d7556f2f0919b22f31f029a6">&#9670;&nbsp;</a></span>block_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::dynld::BlockStats::block_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4a5dde9520627ec4a65eb9a4184bb226">blockEnd()</a>, <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47a9f07f0ab995989c8bde349b013d90">nidas::dynld::SampleInputStream::closeBlocks()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32">endBadBlock()</a>, and <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="af374c4a0ab6769f24927a5c2a33dc2e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af374c4a0ab6769f24927a5c2a33dc2e9">&#9670;&nbsp;</a></span>end_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">dsm_time_t</a> nidas::dynld::BlockStats::end_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32">endBadBlock()</a>, <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock()</a>.</p>

</div>
</div>
<a id="a4efeb3cf81e4b609b9d6cd5e495b6e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efeb3cf81e4b609b9d6cd5e495b6e04">&#9670;&nbsp;</a></span>good</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nidas::dynld::BlockStats::good</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>True if this is a block of good samples. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a71c59c6a56890fb40a3d438c0f714523">addBadSample()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>, and <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>.</p>

</div>
</div>
<a id="acc5e1dabb9f56fcf15af2549948805a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5e1dabb9f56fcf15af2549948805a7">&#9670;&nbsp;</a></span>last_good_sample_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int nidas::dynld::BlockStats::last_good_sample_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the last good sample in a good sample block. </p>
<p>It is zero in a bad block. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, and <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="a1ee81a672e99fcaff8bab2d412081f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee81a672e99fcaff8bab2d412081f47">&#9670;&nbsp;</a></span>nbytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::dynld::BlockStats::nbytes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size in bytes of this block. </p>
<p>Starts out empty at zero. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a71c59c6a56890fb40a3d438c0f714523">addBadSample()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a4a5dde9520627ec4a65eb9a4184bb226">blockEnd()</a>, <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47a9f07f0ab995989c8bde349b013d90">nidas::dynld::SampleInputStream::closeBlocks()</a>, <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a2b105d7b529fe9b3905a2bb0b1c6fe32">endBadBlock()</a>, <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>, <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock()</a>.</p>

</div>
</div>
<a id="ac730e871a8aa9355cdc1a71c0eaa48dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac730e871a8aa9355cdc1a71c0eaa48dd">&#9670;&nbsp;</a></span>nsamples</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t nidas::dynld::BlockStats::nsamples</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of good samples in a row. </p>
<p>Zero in a bad block. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, and <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>.</p>

</div>
</div>
<a id="ab8e5e18326295b3cc3d2b1453ad254ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8e5e18326295b3cc3d2b1453ad254ae">&#9670;&nbsp;</a></span>start_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a0a1aff9052346b2b2b9eb5881be79a4e">dsm_time_t</a> nidas::dynld::BlockStats::start_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sample times bounding this block. </p>
<p>For good blocks, these are the sample times for the first and last samples in the block. For bad blocks, they are the sample times of the last good sample before the block and the first good sample after the block. If unset, start_time is LONG_LONG_MIN and end_time is LONG_LONG_MAX. </p>

<p class="reference">Referenced by <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#a871d7a62782ccfa66a16775fdf48a428">addGoodSample()</a>, <a class="el" href="../../d8/d14/SampleInputStream_8cc.html#a72eeb62bda1e87a01844c74c48108cd5">operator&lt;&lt;()</a>, <a class="el" href="../../d4/df4/classnidas_1_1dynld_1_1SampleInputStream.html#a47b3614b0d0608ee6f0a9a8df950678f">nidas::dynld::SampleInputStream::sampleFromHeader()</a>, and <a class="el" href="../../da/d3f/structnidas_1_1dynld_1_1BlockStats.html#aefdca7a2be798043936391e9173d59dc">startBadBlock()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>nidas/dynld/<a class="el" href="../../d6/dc0/SampleInputStream_8h_source.html">SampleInputStream.h</a></li>
<li>nidas/dynld/<a class="el" href="../../d8/d14/SampleInputStream_8cc.html">SampleInputStream.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
